<div class="text-center font-bold text-2xl mb-4">Edit Product</div>

<form
  #editProductForm="ngForm"
  (ngSubmit)="onEditSubmit()"
  class="max-w-md mx-auto"
>
  <div *ngIf="selectedProduct" class="mb-2">
    <label for="editProductName" class="block mb-1">Product Name:</label>
    <input
      type="text"
      id="editProductName"
      name="editProductName"
      [(ngModel)]="selectedProduct.name"
      class="w-full px-2 py-1 border rounded"
      required
    />
  </div>
  <div class="mb-2">
    <label for="editCategory" class="block mb-1">Category:</label>
    <select
      id="editCategory"
      name="editCategory"
      [(ngModel)]="selectedProduct.category"
      class="w-full px-2 py-1 border rounded"
      required
      (ngModelChange)="oncategoryChange()"
    >
      <option [ngValue]="selectedProduct.category">
        {{ selectedProduct.category?.categoryName }}
      </option>
      <option *ngFor="let category of categories" [ngValue]="category">
        {{ category?.categoryName }}
      </option>
    </select>
  </div>
  <div *ngIf="selectedProduct" class="mb-2">
    <label for="editDescription" class="block mb-1">Description:</label>
    <textarea
      id="editDescription"
      name="editDescription"
      [(ngModel)]="selectedProduct.description"
      class="w-full px-2 py-1 border rounded"
      required
    ></textarea>
  </div>

  <div *ngIf="selectedProduct" class="mb-2">
    <label for="editPrice" class="block mb-1">Price:</label>
    <input
      type="number"
      id="editPrice"
      name="editPrice"
      [(ngModel)]="selectedProduct.price"
      class="w-full px-2 py-1 border rounded"
      required
    />
  </div>

  <div *ngIf="selectedProduct" class="mb-2">
    <label for="editQuantityInStock" class="block mb-1"
      >Quantity in Stock:</label
    >
    <input
      type="number"
      id="editQuantityInStock"
      name="editQuantityInStock"
      [(ngModel)]="selectedProduct.quantityInStock"
      class="w-full px-2 py-1 border rounded"
      required
    />
  </div>

  <div *ngIf="selectedProduct" class="mb-2 flex flex-col">

    <img
      class="w-64 h-auto object-contain mx-0 mb-2"
      src="{{ selectedProduct.imageUrl }}"
      alt="{{ selectedProduct.name }}"
    />
  </div>

  <div class="flex justify-between items-center mt-4">
    <!-- Cancel button on the bottom left -->
    <button
      type="button"
      class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-1 px-2 rounded"
      (click)="onCancel()"
    >
      Cancel
    </button>

    <!-- Save button on the bottom right -->
    <button
      type="submit"
      class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded"
      *ngIf="selectedProduct"
      (click)="onSave()"
    >
      Save Changes
    </button>
  </div>
</form>
